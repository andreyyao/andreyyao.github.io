---
const { startDate, institution, course, position } = Astro.props

const formatDate = (inputDate: string) => {
    const date = new Date(inputDate);
    const month = date.toLocaleString('en-US', { month: 'short' });
    const year = date.getFullYear();
    return `${month} ${year}`;
};
---

<div class="teaching-card">
  <div class="row filled">
    <div>
      <span id="badge">{formatDate(startDate)}</span>
    </div>
    &nbsp;
    <div class="left-column"><svg xmlns="http://www.w3.org/2000/svg" height="12" width="12" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path fill="#a51d2d" d="M243.4 2.6l-224 96c-14 6-21.8 21-18.7 35.8S16.8 160 32 160v8c0 13.3 10.7 24 24 24H456c13.3 0 24-10.7 24-24v-8c15.2 0 28.3-10.7 31.3-25.6s-4.8-29.9-18.7-35.8l-224-96c-8-3.4-17.2-3.4-25.2 0zM128 224H64V420.3c-.6 .3-1.2 .7-1.8 1.1l-48 32c-11.7 7.8-17 22.4-12.9 35.9S17.9 512 32 512H480c14.1 0 26.5-9.2 30.6-22.7s-1.1-28.1-12.9-35.9l-48-32c-.6-.4-1.2-.7-1.8-1.1V224H384V416H344V224H280V416H232V224H168V416H128V224zM256 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>&nbsp;{institution}</div>
    <div class="right-column">{position}</div>
  </div>
  <!-- Second Row -->
  <div class="row">
    <div class="left font-extrabold">{course}</div>
  </div>
  <!-- Third Row -->
  <div class="row flex-1">
    <slot />
  </div>
</div>

<style>
 /* Applying CSS for layout */
 .teaching-card {
   display: flex;
   flex-direction: column;
   width: 550px;
   border: 2px solid;
   border-radius: 3px;
   border-color: rgb(var(--color-border));
   margin: 0px 0px 40px 0px;
 }
 .row {
   display: flex;
   justify-content: space-between;
   align-items: center;
   padding: 7px;
 }
 .left-column {
   width: 50%;
   height: 100%;
   vertical-align: text-top;
   display: flex;
 }
 .right-column {
   width: 30%;
   text-align: right;
 }
 .left {
   text-align: left;
 }
 .right {
   text-align: right;
 }
 .filled {
   background-color: rgb(var(--color-faint-fill));
   border-radius: 1px;
   padding: 10px 5px 10px 5px;
 }
 #badge {
   width: 20%;
   border-radius: 2px;
   padding: 4px 4px;
 }
</style>